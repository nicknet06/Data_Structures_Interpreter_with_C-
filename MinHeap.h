#ifndef MINHEAP_H
#define MINHEAP_H

/*
  Η κλάση MinHeap διαχειρίζεται έναν σωρό ελάχιστης τιμής, προσφέροντας γρήγορη πρόσβαση
  στο μικρότερο στοιχείο του σωρού. Για την αποθήκευση των στοιχείων της, χρησιμοποιεί
  έναν δυναμικό πίνακα (Vector<int>) ο οποίος μπορεί να επεκτείνεται αυτόματα.
*/

#include <iostream>
#include <fstream>
#include <string>
#include "Vector.h"

using namespace std;

/*
  Η κλάση MinHeap περιέχει τις εξής βασικές μεθόδους:
  - BuildHeapFromFile: φορτώνει στοιχεία από ένα αρχείο και δημιουργεί σωρό ελάχιστης τιμής.
  - insert: εισάγει ένα στοιχείο στο σωρό.
  - getMin: επιστρέφει το μικρότερο στοιχείο στον σωρό.
  - deleteMin: αφαιρεί το μικρότερο στοιχείο από τον σωρό.
  - getSize: επιστρέφει το πλήθος των στοιχείων του σωρού.
  Οι συναρτήσεις heapifyUp και heapifyDown διατηρούν την ιδιότητα του σωρού μετά από κάθε εισαγωγή ή διαγραφή.
*/

class MinHeap {
private:
    Vector<int> array;                // Δυναμικός πίνακας για την αποθήκευση των στοιχείων
    void heapifyUp(int index);        // Αναδιατάσσει (προς τα πάνω) το στοιχείο για την ιδιότητα ελάχιστου σωρού
    void heapifyDown(int index);      // Αναδιατάσσει (μετακίνηση προς τα κάτω) το στοιχείο για την ιδιότητα ελάχιστου σωρού

public:
    MinHeap();                        // Κατασκευαστής
    ~MinHeap();                       // Καταστροφέας

    void BuildHeapFromFile(const string& filename); // Δημιουργεί τον σωρό από αρχείο
    void insert(int key);             // Εισάγει ένα νέο στοιχείο
    int getMin();                     // Επιστρέφει το μικρότερο στοιχείο
    void deleteMin();                 // Αφαιρεί το μικρότερο στοιχείο
    int getSize();                    // Επιστρέφει το πλήθος των στοιχείων στον σωρό
};

#endif